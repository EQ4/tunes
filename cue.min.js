/*! cue 0.5.10 | @link github.com/ryanve/cue | @license MIT | @author Ryan Van Etten */
(function(v,n,w){function m(a,c,b){for(var d,e=0,g=a.length;e<g;)if(d=c.call(b,a[e],e++,a))return d}function G(a,c){a=a||0;var b=a/60,d,e=60*a;d=(b/60).toFixed();b=(b%60).toFixed();a=(a%60).toFixed();e=(e%60).toFixed();b=[d,b,a,e];if(!1===c)return b;b=b.join(c||" : ");return b.replace(H,"$10$2")}function I(a,c){return m(J[c],function(b){return a[b]})||""}function K(a){var c,b=0,d=[];if(!a)return d;a="string"==typeof a?a.split(" "):a;for(c=a.length;b<c;b++)a[b]&&d.push(a[b]);return d}function x(a,
c,b){null==b?a.removeAttribute(c):a.setAttribute(c,b)}function L(a,c,b){var d;if(a="function"==typeof a?a.call(this):a){if("string"!=typeof a)return a;if(a=y(a))return".json"===a.substr(-5)?k.get(a,function(a){a&&c.call(b,a)},"json"):d=z(a),d}}function M(a,c){m(c,function(b){null==b.getAttribute(s)||a.find("."+A).length||(b.removeAttribute(s),m(a.children(),function(a){if(a===b||k.contains(a,b))return t=t||k(N),t.insertAfter(a),1}))})}function O(a,c,b,d,e,g){g=g||0;var l,f,h=b.currentSrc,p=0,q=0,
n=e.length;if(h)for(f=h.split(".").pop()||"src";p<n;p++)if(e[p]&&e[p][f]===h){l=e[q=p+g];break}l||(q=0>g?n-1:0,l=e[q]);b.src=l[f]||"";a.setAttribute("data-cue-idx",q);u===d&&x(b,B,l[B]);b.play();m(c,function(a){var b,c,d;if(a&&1===a.nodeType&&(d=a.getAttribute(P),c=a.getAttribute(Q),null==d||(null==(d=l[d])?k(a).empty():k(a).html(d)),c=c&&"string"==typeof c&&z(c)))for(b in c)"string"!=typeof c[b]&&"number"!=typeof c[b]||x(a,b,l[c[b]])});return q}function C(a,c,b,d){var e="data-"+b+"-cue",g={};g[e]=
"";return a.find(c).not("["+e+"]").on(b+".cue",d).attr(g).removeClass(D).addClass(E)}function R(a,c){var b=a.find(".cue-time");b.length&&c.on("timeupdate.cue",function(){b.html(G(this.currentTime))}).addClass(E).removeClass(D)}function S(a,c){this[c=a.split(".").pop()]||(this[c]=a)}function r(a){m(this,function(c){function b(){var a=e.paused||e.ended;this.className="cue-"+(a?"pause":"play");h[a?"addClass":"removeClass"](T)[a?"removeClass":"addClass"](U)}if(1===c.nodeType){if("function"==typeof a)return!r.call([c],
a.call(c));var d,e,g,l,f,h=k(c);if(f=a||h.attr("data-cue"))if(f=L(f,r,h),"object"==typeof f&&(f=f?[].concat(f):[],e=h.find(u+","+F)[0]))if(l=(e.nodeName||e).toLowerCase(),d=k(e),M(h,d),R(h,d),C(h,".cue-play,.cue-pause","click",function(){e[e.paused||e.ended?"play":"pause"]()}),d.on("play.cue",b),d.on("pause.cue",b),d=f.length){for(;d--;)f[d]["track-number"]=d,m(K(f[d].src),S,f[d]),f[d].src=I(f[d],l);g=c.getElementsByTagName("*");m([".cue-prev",".cue-next"],function(a,b){C(h,a,"click",function(){O(c,
g,e,l,f,b||-1)})})}else h.attr("data-cue","")}});return this}var t,k=m(["jQuery","ender"],function(a){if(v[a])return v[a];try{return require(a.toLowerCase())}catch(c){}}),y=k.trim||function(a){return a.replace(/^\s+|\s+$/,"")};n=n.JSON;var V=k.parseJson||n&&n.parse,z=function(a){return"string"==typeof a&&(a=y(a))?V(a):null},H=/(^|\D)(\d\D|\d$)/g,F="audio",u="video",B="poster",E="cue-active",D="cue-inactive",U="cue-paused",T="cue-playing",P="data-cue-insert",Q="data-cue-attr",s="controls",A="cue-"+
s,N="<div class="+A+"><button accesskey=j class=cue-prev title=previous><span>|&#9668;&#9668;</span></button><button accesskey=p class=cue-play title=play/pause><span>&#9658;</span><span>| |</span></button><button accesskey=k class=cue-next title=next><span>&#9658;&#9658;|</span></button><output class=cue-time></output></div>",J=m([F,u],function(a,c){var b,d=this[a]=[],e=w.createElement(a),g=c?{ogg:['ogg;codecs="theora"'],webm:['webm;codecs="vp8,vorbis"'],mp4:['mp4;codecs="avc1.42E01E"']}:{m4a:["aac;",
"x-m4a;"],wav:["mpeg;"],ogg:['ogg;codecs="vorbis"'],opus:['ogg;codecs="opus"'],mp3:["mpeg;"]};if(e.canPlayType)for(b in a+="/",g)g.hasOwnProperty(b)&&m(g[b],function(c){c=e.canPlayType(a+c);if(d[b]="no"!==c&&c||!1)return d["maybe"===c?"push":"unshift"](b)});return c&&this},{});k.fn.cue=r;k(w).ready(function(){r.call(k("[data-cue]"))})})(this,window,document);